<beans xmlns="http://www.springframework.org/schema/beans"
	xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xmlns:p="http://www.springframework.org/schema/p"
	xmlns:context="http://www.springframework.org/schema/context"
	xmlns:mvc="http://www.springframework.org/schema/mvc" xmlns:security="http://www.springframework.org/schema/security"
	xmlns:util="http://www.springframework.org/schema/util"
	xsi:schemaLocation="http://www.springframework.org/schema/mvc http://www.springframework.org/schema/mvc/spring-mvc.xsd
		http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security.xsd
		http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
		http://www.springframework.org/schema/util http://www.springframework.org/schema/util/spring-util.xsd
		http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context.xsd">
	
	<!-- Models -->
	<import resource="login.xml"/>
	<import resource="loginkey.xml"/>
	<import resource="loginpointer.xml"/>
	
	<!-- Base client-request sender. -->
	<bean id="mockClientRequestSender"
		class="com.dereekb.gae.test.mock.client.crud.MockClientRequestSender">
	</bean>
	
	<bean id="clientApiRequestSender"
		class="com.dereekb.gae.client.api.service.sender.impl.ClientApiRequestSenderImpl">
		<constructor-arg index="0" ref="mockClientRequestSender" />
	</bean>

	<bean id="securedClientRequestSender"
		class="com.dereekb.gae.client.api.service.sender.security.impl.SecuredClientApiRequestSenderImpl">
		<constructor-arg index="0" ref="clientApiRequestSender" />
		<constructor-arg index="1" ref="testDefaultClientRequestSecurity" />
		<constructor-arg index="2" ref="systemLoginTokenFactory" />
	</bean>
	
	<bean id="testDefaultClientRequestSecurity"
		class="com.dereekb.gae.client.api.service.sender.security.impl.ClientRequestSecurityImpl">
		<property name="securityContextType" value="SYSTEM" />
	</bean>

	<!-- Shared -->
	<bean id="clientLinkRequestSender"
		class="com.dereekb.gae.client.api.model.extension.link.impl.ClientLinkRequestSenderImpl">
		<constructor-arg index="0" ref="modelKeyTypeConverter" />
		<constructor-arg index="1" ref="securedClientRequestSender" />
	</bean>

</beans>